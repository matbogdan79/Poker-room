Side pots develop from the fact that players can only win a maximum of the amount that they wagered from each of the players who call them. Thus any wagers above that amount are placed in a separate pot which is competed for by everyone except for the all-in player.

As to your specific questions:

The amounts in the main pot or in the sidepot are not based on percentages, but amounts of the wager and of the chips available for the player. For each player who calls, the main pot will contain the amount of the smallest-stacked all-in player. If there is only one sidepot, it will contain the rest. If there are multiple sidepots, they are split according to amounts each player has available. See the examples in 2. for clarification...
The only way for x players to be all-in is for there to be x+1 players in the hand, or for at least two of them to have exactly the same amount of chips. Thus there will be a maximum of x-1 side pots (if all players each have a different amount of chips), in addition to the main pot. If any players have the same amount of chips, then there will be one less side pot for each time this occurs.
For example: Player A with $100 goes all-in and the following players call - B with $75, C with $50, D with $25, and E with $125. Players A through D are all-in and there are a total of 3 side pots and the main pot:
The mainpot contains $125 ($25 from each player) and all players can win this money.
Sidepot #1 contains $100 ($25 each from players A, B, C, and E) and only players A, B, C, and E can win this. If someone wins between these 4 but does not beat player D, then D will get the main pot and the winner here will get this $100.
Sidepot #2 contains $75 ($25 each from players A, B, and E) and only players A, B, and E can win this. As above, winning this is separate from the other pots.
Sidepot #3 contains $50 ($25 each from players A and E) and only players A and E can win this. Winning is separate from other pots.
If we adjust things and say that players B, C, and D all have $75, then the mainpot has $375 ($75 from all five players) and there is only one sidepot, between A and E for $50.
Rules for winning follow standard rules for determining the winner of a hand. The difference is that someone can win a sidepot while losing the mainpot. If players in competition for a sidepot have the same hand then they will split the sidepot evenly.
